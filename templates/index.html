{{ block "index" . }}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>htmx Text Post Example</title>
    <script
      src="https://unpkg.com/htmx.org@1.9.10"
      integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/ws.js"></script>
    <style></style>
  </head>
  <body>
    <h1>Board:</h1>
    <table hx-target="body">
      <tr>
        <td />
        {{ range $index, $_ := .Board }}
        <td hx-post="/shift/down" hx-vals='{ "index": {{$index}} }'>⬇️</td>
        {{end}}
      </tr>

      {{ range $row_index, $row := .Board }}
      <tr>
        <td hx-post="/shift/right" hx-vals='{ "index": {{$row_index}} }'>➡️</td>
        {{ range $row }}
        <td>{{ . }}</td>
        {{ end }}
        <td hx-post="/shift/left" hx-vals='{ "index": {{$row_index}} }'>⬅️</td>
      </tr>
      {{ end }}

      <tr>
        <td />
        {{ range $index, $_ := .Board }}
        <td hx-post="/shift/up" hx-vals='{ "index": {{$index}} }'>⬆️</td>
        {{end}}
      </tr>
    </table>

    <!--
  <div hx-ext="ws" ws-connect="/chat">
    <form ws-send>
      <div>
        <input type="text" id="username" name="username" placeholder="username">
      </div>

      <div>
        <input type="text" id="text" name="text" placeholder="Type something...">
        <button type="submit">Post Text</button>
      </div>
    </form>
  </div>
  --></body>
</html>
{{ end }}
